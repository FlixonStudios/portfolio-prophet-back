(this["webpackJsonpportfolio-prophet-front"]=this["webpackJsonpportfolio-prophet-front"]||[]).push([[0],{228:function(e,t,c){},387:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),r=c(41),n=c.n(r),l=(c(227),c(228),c(46)),i=c(218),o=c(16),j=c.n(o),d=c(26),b=c(12),h=c(21),u=c(25),O=c(403),x=c(401),m=c(400),f="data:image/png;base64,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",p=c(1);var v=function(e){var t=e.stocks,c=Object(a.useState)(""),s=Object(b.a)(c,2),r=s[0],n=s[1],l=Object(a.useState)([]),i=Object(b.a)(l,2),o=i[0],j=i[1];return Object(a.useEffect)((function(){r&&function(e){var c=t.filter((function(t){return t.symbol.toLowerCase().includes(e.toLowerCase())}));j(c)}(r)}),[r]),Object(p.jsxs)(O.a,{expand:"md",children:[Object(p.jsx)(O.a.Brand,{children:Object(p.jsx)(h.b,{to:"/",children:Object(p.jsx)("img",{src:f,alt:"Portfolio Prophet"})})}),Object(p.jsx)(O.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"material-icons"}),Object(p.jsxs)(O.a.Collapse,{id:"basic-navbar-nav",children:[Object(p.jsxs)(x.a,{className:"ml-auto",children:[Object(p.jsx)(h.b,{to:"/market",className:"nav-link",children:"Market"}),Object(p.jsx)(h.b,{to:"/login",className:"nav-link",children:"Log In / Register"})]}),Object(p.jsx)(m.a,{inline:!0,children:Object(p.jsxs)("div",{className:"search-bar material-icons",children:[Object(p.jsx)("input",{type:"text",placeholder:"Search",onChange:function(e){n(e.target.value)}}),r&&Object(p.jsx)("div",{className:"auto-suggest",children:Object(p.jsx)("ul",{children:o.length>0?o.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(h.b,{to:"/market/details/".concat(e.symbol),children:e.symbol})},e.id)})):Object(p.jsx)("li",{children:"No Stocks Found"})})})]})})]})]})},g=c(390),y=c(120),N=c(391),w=c(195),k=c(392),A=c.p+"static/media/banner.e2b1ab0d.png";var S=function(){return Object(p.jsx)(g.a,{fluid:!0,className:"px-0",children:Object(p.jsx)(N.a,{className:"no-gutters",children:Object(p.jsx)(w.a,{className:"col-12",children:Object(p.jsxs)("div",{className:"main-banner d-flex justify-content-center",children:[Object(p.jsx)("div",{className:"banner-image",children:Object(p.jsx)(k.a,{src:A,alt:"join portfolio prophet!",fluid:!0})}),Object(p.jsxs)("div",{className:"banner-content col-11",children:[Object(p.jsx)("h2",{children:"Looking for ways to invest better?"}),Object(p.jsx)("h3",{children:"Join Portfolio Prophet Now!"}),Object(p.jsx)("div",{className:"btn btn-primary",children:"Register Now"})]})]})})})})};var L=function(e){var t=e.stockDetails;return Object(p.jsxs)(h.b,{to:"/market/details/".concat(t.symbol),className:"watchlist card col-11 d-flex flex-row",children:[Object(p.jsxs)("div",{className:"watchlist--content d-flex align-items-center",children:[Object(p.jsx)("div",{children:t.symbol}),Object(p.jsx)("div",{className:"full-name",children:t.name})]}),Object(p.jsxs)("div",{className:"watchlist--content",children:["$",t.currentPrice]}),Object(p.jsxs)("div",{className:"watchlist--content \n            ".concat("-"===t.price_change.toString().charAt(0)?"red":"green"),children:[t.percent_change,"%"]}),Object(p.jsx)("div",{className:"watchlist--content",children:t.volume}),Object(p.jsx)("div",{className:"watchlist--content  \n            ".concat("BUY"===t.yhat_30_advice&&"green"," \n            ").concat("HOLD"===t.yhat_30_advice&&"orange","  \n            ").concat("SELL"===t.yhat_30_advice&&"red"),children:t.yhat_30_advice})]})};var C=function(e){var t=e.market,c=e.stocks;return Object(p.jsxs)(N.a,{className:"section justify-content-center no-gutters",children:["true"!==t&&Object(p.jsx)(w.a,{className:"col-11",children:Object(p.jsx)("h4",{children:"Watch List"})}),Object(p.jsxs)(w.a,{className:"col-11 d-flex watchlist",children:[Object(p.jsx)("div",{className:"list--title",children:"Name"}),Object(p.jsx)("div",{className:"list--title",children:"Latest Price"}),Object(p.jsx)("div",{className:"list--title",children:"% Change"}),Object(p.jsx)("div",{className:"list--title",children:"Volume Transacted"}),Object(p.jsx)("div",{className:"list--title",children:"Prediction"})]}),c&&c.map((function(e,t){return Object(p.jsx)(L,{stockDetails:e},t)}))]})};var P=function(e){var t=e.stocks,c=Object(a.useState)([]),s=Object(b.a)(c,2),r=s[0],n=s[1],l=[];return Object(a.useEffect)((function(){t&&(l=Object(y.a)(t).sort((function(e,t){return t.yhat_30_ratio-e.yhat_30_ratio})).slice(0,5),n(l))}),[t]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(S,{}),Object(p.jsx)(C,{stocks:r})]})};var F=function(e){var t=e.stocks;return Object(p.jsx)(C,{stocks:t,market:"true"})};var T=function(e){var t=e.auth,c=e.forecastData,s=Object(a.useState)([]),r=Object(b.a)(s,2),n=r[0],l=r[1],i=Object(a.useState)(),o=Object(b.a)(i,2),j=o[0],d=o[1],h=new Date,u=String(h.getDate()).padStart(2,"0"),O=String(h.getMonth()+1).padStart(2,"0"),x=h.getFullYear();return h=x+"-"+O+"-"+u,Object(a.useEffect)((function(){for(var e in c)c[e].date===h&&d(e)}),[c]),Object(a.useEffect)((function(){if(j){var e=c.slice(j,c.length-1);l(e)}}),[j]),Object(p.jsx)(w.a,{className:"mb-4 ".concat(t?"col-12 col-xl-7":"col-11 col-xl-6"),children:Object(p.jsxs)("div",{className:"d-flex flex-column card-block pr-0 pl-xl-3 pl-0",children:[Object(p.jsx)("div",{className:"list--title",children:"Forecast Data"}),Object(p.jsx)("div",{className:"card forecast-data-table list--value mr-0",children:Object(p.jsxs)("table",{id:"forecastTable",children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Date"}),Object(p.jsx)("td",{children:"Trend"}),Object(p.jsx)("td",{children:"Trend Lower"}),Object(p.jsx)("td",{children:"Trend Upper"})]})}),Object(p.jsx)("tbody",{children:n.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{"data-label":"Date/Time",children:e.date}),Object(p.jsxs)("td",{"data-label":"Yhat",children:["$",e.yhat]}),Object(p.jsxs)("td",{"data-label":"Yhat_Lower",children:["$",e.yhat_lower]}),Object(p.jsxs)("td",{"data-label":"Yhat_Upper",children:["$",e.yhat_upper]})]},t)}))})]})})]})})};var _=function(e){var t=e.stockDetail,c=e.change,a=e.price;return Object(p.jsxs)("div",{className:"d-flex flex-column card-block ".concat("true"===c&&"pl-lg-3 pl-0 pr-lg-3 pr-0"," ").concat("true"===a&&"pr-lg-3 pr-0 pl-0"),children:[Object(p.jsxs)("div",{className:"list--title",children:["true"===c&&"% Change","true"===a&&"Current Price"]}),"true"===c&&Object(p.jsx)("div",{className:"card list--value ".concat(t.price_change&&"-"===t.price_change.toString().charAt(0)?"red":"green"),children:t.percent_change+"%"}),"true"===a&&Object(p.jsx)("div",{className:"card list--value",children:"$"+t.currentPrice})]})};var E=function(e){var t=e.stockDetail;return Object(p.jsxs)(w.a,{className:"col-12 mt-4 d-flex forecast mb-4 pr-xl-3 pr-0",children:[Object(p.jsx)("div",{className:"forecast--title list--title",children:"30 Day Forecast"}),Object(p.jsxs)("div",{className:"forecast--title d-flex",children:[Object(p.jsx)("div",{className:"list--title",children:"Range"}),Object(p.jsx)("div",{className:"list--title",children:"Price"}),Object(p.jsx)("div",{className:"list--title",children:"% Change"})]}),Object(p.jsxs)("div",{className:"d-flex card flex-row align-items-center",children:[Object(p.jsx)("div",{className:"list--value recommendation-forecast \n                ".concat("BUY"===t.yhat_30_advice&&"green"," \n                ").concat("HOLD"===t.yhat_30_advice&&"orange","  \n                ").concat("SELL"===t.yhat_30_advice&&"red"),children:t.yhat_30_advice}),Object(p.jsxs)("div",{className:"forecast--values",children:[Object(p.jsxs)("div",{className:"d-flex upper-forecast",children:[Object(p.jsx)("div",{children:"Upper"}),Object(p.jsx)("div",{children:t.yhat_30_upper}),Object(p.jsx)("div",{className:"green",children:"%"})]}),Object(p.jsxs)("div",{className:"d-flex lower-forecast",children:[Object(p.jsx)("div",{children:"Lower"}),Object(p.jsx)("div",{children:t.yhat_30_lower}),Object(p.jsx)("div",{className:"red",children:"%"})]})]})]})]})},I=c(393),D=c(404),B=c(397),G=c(214),U=c(215),W=c(97),V=c(212),M=c(213),J=c(210);var Y=function(e){var t=e.data,c=e.min,a=e.max;return Object(p.jsx)(p.Fragment,{children:t.length>0?Object(p.jsx)(I.a,{width:"100%",height:400,children:Object(p.jsxs)(D.a,{width:500,height:400,data:t,margin:{top:0,right:0,bottom:0,left:0},children:[Object(p.jsx)(B.a,{stroke:"#f5f5f5"}),Object(p.jsx)(G.a,{dataKey:"date"}),Object(p.jsx)(U.a,{domain:[c,a],tickCount:20}),Object(p.jsx)(W.a,{}),Object(p.jsx)(V.a,{type:"monotone",dataKey:"yhat_range",fill:"#8884d8",stroke:"#8884d8"}),Object(p.jsx)(M.a,{dataKey:"price",fill:"#000000"}),Object(p.jsx)(J.a,{type:"monotone",dataKey:"yhat",stroke:"#8884d8",dot:!1})]})}):"Loading"})},H=c(37),K=c.n(H);var R=function(e){var t=e.auth,c=e.watchlist,s=e.addToWatchlist,r=e.removeFromWatchList,n=Object(u.h)().symbol,l=Object(a.useState)([]),i=Object(b.a)(l,2),o=i[0],h=i[1],O=Object(a.useState)([]),x=Object(b.a)(O,2),m=x[0],f=x[1],v=Object(a.useState)(!1),g=Object(b.a)(v,2),y=g[0],k=g[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get("/api/show?stock=".concat(n));case 2:t=e.sent,c=t.data,h(c.stock_record),f(c.forecast_record);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var A=0,S=0,L=[];if(m){for(var C in L=m.map((function(e){var t=new Date(e.date).toLocaleDateString("en-GB",{year:"numeric",month:"short"});return"0.00"!==e.price?{date:t,yhat:e.yhat,yhat_range:[e.yhat_upper,e.yhat_lower],price:e.price}:{date:t,yhat:e.yhat,yhat_range:[e.yhat_upper,e.yhat_lower]}})),m)A<parseInt(m[C].yhat_upper)&&(A=parseInt(m[C].yhat_upper)),parseInt(m[C].yhat_lower)<0&&S>parseInt(m[C].yhat_lower)&&(S=parseInt(m[C].yhat_lower));A+=100,S-=100}function P(e){y?(r(e),k(!1)):(s(e),k(!0))}return Object(a.useEffect)((function(){c&&o&&c.filter((function(e){o.id===e.id&&k(!0)}))}),[o]),Object(p.jsxs)("div",{className:"section details ".concat(t&&"dash-card-block"),children:[Object(p.jsxs)(N.a,{className:"no-gutters justify-content-center",children:[Object(p.jsx)(w.a,{className:"d-flex align-items-center mb-5 ".concat(t?"col-12 col-sm-8 col-md-6":"col-11"),children:Object(p.jsxs)("h2",{children:[o.name," (",o.symbol,")"]})}),t&&Object(p.jsxs)(w.a,{className:"d-flex flex-wrap justify-content-start justify-content-sm-end mb-5 col-12 col-sm-4 col-md-6",children:[Object(p.jsx)("button",{className:"btn btn-primary mb-3 mb-lg-0 mr-0 mr-lg-3",children:"Add to Portfolio"}),y?Object(p.jsx)("button",{className:"btn btn-secondary",onClick:function(){return P(o.id)},children:"Remove from Watch List"}):Object(p.jsx)("button",{className:"btn btn-primary",onClick:function(){return P(o.id)},children:"Add to Watch List"})]})]}),Object(p.jsxs)(N.a,{className:"no-gutters justify-content-center",children:[Object(p.jsx)(w.a,{className:"".concat(t?"col-12 col-xl-5":"col-11 col-xl-5"),children:Object(p.jsxs)(N.a,{className:"no-gutters",children:[Object(p.jsx)(w.a,{className:"col-12 col-lg-6",children:Object(p.jsx)(_,{stockDetail:o,price:"true"})}),Object(p.jsx)(w.a,{className:"col-12 col-lg-6",children:Object(p.jsx)(_,{stockDetail:o,change:"true"})}),Object(p.jsx)(E,{stockDetail:o})]})}),Object(p.jsx)(T,{forecastData:m,auth:t})]}),Object(p.jsx)(N.a,{className:"no-gutters justify-content-center",children:Object(p.jsx)(w.a,{className:"".concat(t?"col-12":"col-11"),children:Object(p.jsxs)("div",{className:"d-flex flex-column card-block pr-0 pl-0",children:[Object(p.jsx)("div",{className:"list--title",children:"Forecast Graph"}),Object(p.jsx)("div",{className:"card",children:Object(p.jsx)(Y,{data:L,min:S,max:A})})]})})})]})};var X=function(){return Object(p.jsxs)("footer",{children:["Portfolio Prophet is currently under development for a school project.",Object(p.jsx)("br",{}),Object(p.jsx)("br",{}),"All data and statistics are dummy/mock data. Please do not use them for actual investments."]})},Z=c(24),Q=c(398);var z=function(e){var t=e.setAuth,c=Object(u.g)();function a(){return(a=Object(d.a)(j.a.mark((function e(a){var s,r,n,l,i,o,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),s=new FormData(a.target),r={},n=Object(Z.a)(s.entries());try{for(n.s();!(l=n.n()).done;)i=l.value,r[i[0]]=i[1]}catch(j){n.e(j)}finally{n.f()}return r.password1=s.get("password"),e.prev=6,e.next=9,K.a.post("/accounts/register/",r);case 9:o=e.sent,d=o.data,localStorage.setItem("access",d.access),localStorage.setItem("refresh",d.refresh),t(!0),c.push("/dashboard"),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(6),console.log(e.t0),console.log(e.t0.response);case 21:case"end":return e.stop()}}),e,null,[[6,17]])})))).apply(this,arguments)}function s(){return(s=Object(d.a)(j.a.mark((function e(a){var s,r,n,l,i,o,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),s=new FormData(a.target),r={},n=Object(Z.a)(s.entries());try{for(n.s();!(l=n.n()).done;)"confirm_password"!==(i=l.value)[0]&&(r[i[0]]=i[1])}catch(j){n.e(j)}finally{n.f()}return e.prev=5,e.next=8,K.a.post("/api/token/",r,{});case 8:o=e.sent,d=o.data,localStorage.setItem("access",d.access),localStorage.setItem("refresh",d.refresh),t(!0),c.push("/dashboard"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.log(e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}return Object(p.jsx)(N.a,{className:"section justify-content-center no-gutters",children:Object(p.jsx)(w.a,{className:"col-11",children:Object(p.jsxs)(N.a,{className:"no-gutters justify-content-center",children:[Object(p.jsx)(w.a,{className:"col-12 col-lg-5 mb-5 mb-md-0",children:Object(p.jsxs)("div",{className:"d-flex flex-column card-block pr-xl-3 pr-0",children:[Object(p.jsx)("div",{className:"list--title",children:Object(p.jsx)("h2",{children:"Register"})}),Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)(m.a,{onSubmit:function(e){return a.apply(this,arguments)},children:[Object(p.jsxs)(m.a.Group,{controlId:"registerUsername",children:[Object(p.jsx)(m.a.Label,{children:"Username"}),Object(p.jsx)(m.a.Control,{name:"username",type:"text"})]}),Object(p.jsxs)(m.a.Group,{controlId:"registerEmail",children:[Object(p.jsx)(m.a.Label,{children:"Email"}),Object(p.jsx)(m.a.Control,{name:"email",type:"Email"})]}),Object(p.jsxs)(m.a.Group,{controlId:"registerPassword1",children:[Object(p.jsx)(m.a.Label,{children:"Password"}),Object(p.jsx)(m.a.Control,{name:"password",type:"password"})]}),Object(p.jsxs)(m.a.Group,{controlId:"registerPassword2",children:[Object(p.jsx)(m.a.Label,{children:"Confirm Password"}),Object(p.jsx)(m.a.Control,{name:"password2",type:"password"})]}),Object(p.jsx)(Q.a,{className:"btn btn-primary",type:"submit",children:"Register"})]})})]})}),Object(p.jsx)(w.a,{className:"col-12 col-lg-5",children:Object(p.jsxs)("div",{className:"d-flex flex-column card-block pr-xl-3 pr-0",children:[Object(p.jsx)("div",{className:"list--title",children:Object(p.jsx)("h2",{children:"Login"})}),Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)(m.a,{onSubmit:function(e){return s.apply(this,arguments)},children:[Object(p.jsxs)(m.a.Group,{controlId:"loginUsername",children:[Object(p.jsx)(m.a.Label,{children:"Username"}),Object(p.jsx)(m.a.Control,{name:"username",type:"text"})]}),Object(p.jsxs)(m.a.Group,{controlId:"loginPassword",children:[Object(p.jsx)(m.a.Label,{children:"Password"}),Object(p.jsx)(m.a.Control,{name:"password",type:"password"})]}),Object(p.jsx)(Q.a,{className:"btn btn-primary",type:"submit",children:"Login"})]})})]})})]})})})};var q=function(e){var t=e.setAuth,c=Object(a.useState)([]),s=Object(b.a)(c,2),r=s[0],n=s[1];return Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.a.get("/api/show_all/");case 2:t=e.sent,c=t.data,n(c.stock_record_all);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(v,{stocks:r}),Object(p.jsxs)(g.a,{fluid:!0,className:"px-0",children:[Object(p.jsx)(u.b,{path:"/",exact:!0,children:Object(p.jsx)(P,{stocks:r})}),Object(p.jsx)(u.b,{path:"/market",exact:!0,children:Object(p.jsx)(F,{stocks:r})}),Object(p.jsx)(u.b,{path:"/market/details/:symbol",children:Object(p.jsx)(R,{})}),Object(p.jsx)(u.b,{path:"/login",exact:!0,children:Object(p.jsx)(z,{setAuth:t})})]}),Object(p.jsx)(X,{})]})};var $=function(e){var t=e.setAuth;return Object(a.useEffect)((function(){document.querySelector(".collapse--link").addEventListener("click",(function(e){document.querySelector(".sidenav").classList.toggle("sidenav--collapse")}))}),[]),Object(p.jsxs)("div",{className:"sidenav",children:[Object(p.jsx)("div",{className:"brand--logo",children:Object(p.jsx)(k.a,{src:f})}),Object(p.jsx)("div",{className:"navigation--items",children:Object(p.jsxs)("ul",{className:"d-flex",children:[Object(p.jsx)("li",{className:"dashboard--link",children:Object(p.jsx)(h.b,{to:"/dashboard",className:"d-flex align-items-center",children:"Dashboard"})}),Object(p.jsx)("li",{className:"portfolio--link",children:Object(p.jsx)(h.b,{to:"/dashboard/portfolio",className:"d-flex align-items-center",children:"Portfolio"})}),Object(p.jsx)("li",{className:"watchlist--link",children:Object(p.jsx)(h.b,{to:"/dashboard/watchlist",className:"d-flex align-items-center",children:"Watch List"})}),Object(p.jsx)("li",{className:"settings--link",children:Object(p.jsx)(h.b,{to:"/dashboard/settings",className:"d-flex align-items-center",children:"Settings"})}),Object(p.jsx)("li",{className:"logout--link",children:Object(p.jsx)(h.b,{to:"/dashboard/logout",className:"d-flex align-items-center",onClick:function(){t(!1),localStorage.removeItem("access"),localStorage.removeItem("refresh")},children:"Logout"})}),Object(p.jsx)("li",{className:"collapse--link",children:Object(p.jsx)(h.b,{to:"#",className:"d-flex align-items-center",children:"Collapse"})})]})})]})};var ee=function(e){var t=e.title,c=void 0===t?"title":t;return Object(p.jsxs)("div",{className:"d-flex flex-column dash-card-block",children:[Object(p.jsx)("div",{className:"list--title",children:c}),Object(p.jsx)("div",{className:"card",children:"content"})]})},te="https://portfolio-prophet-sei29.herokuapp.com";K.a.interceptors.request.use((function(e){return localStorage.access?e.headers.Authorization="Bearer ".concat(localStorage.access):delete e.headers.Authorization,e}),(function(e){return Promise.reject(e)})),K.a.interceptors.response.use((function(e){return e}),(function(e){var t=e.config,c=localStorage.refresh;return 401===e.response.status&&t.url==="".concat(te,"/api/token/refresh/")?(localStorage.clear(),Promise.reject(e)):c&&401===e.response.status&&!t._retry?(t._retry=!0,K.a.post("".concat(te,"/api/token/refresh/"),{refresh:c}).then((function(e){if(200===e.status)return console.log(e.data),localStorage.setItem("access",e.data.access),K()(t)})).catch((function(e){}))):Promise.reject(e)}));var ce=K.a,ae=c(109),se=c(399);var re=function(e){var t=e.setShow,c=e.show,s=e.stockToAdd,r=Object(a.useState)({}),n=Object(b.a)(r,2),i=n[0],o=n[1];Object(a.useEffect)((function(){o((function(e){return Object(l.a)(Object(l.a)({},e),{id:s.id,date:new Date,price:s.price})}))}),[s]);var h=function(){return t(!1)};function u(){return(u=Object(d.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.post("/api/portfolio/",i);case 2:c=e.sent,c.data,h();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){o((function(t){return Object(l.a)(Object(l.a)({},t),Object(ae.a)({},e.target.name,e.target.value))}))}return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(se.a,{show:c,onHide:h,children:[Object(p.jsx)(se.a.Header,{closeButton:!0,children:Object(p.jsx)(se.a.Title,{children:"Modal heading"})}),Object(p.jsx)(se.a.Body,{children:Object(p.jsxs)(m.a,{children:[Object(p.jsxs)(m.a.Group,{controlId:"stock",children:[Object(p.jsx)(m.a.Label,{children:"Stock"}),Object(p.jsx)("div",{children:s.name})]}),Object(p.jsxs)(m.a.Group,{controlId:"symbol",children:[Object(p.jsx)(m.a.Label,{children:"Symbol"}),Object(p.jsx)("div",{children:s.symbol})]}),Object(p.jsxs)(m.a.Group,{controlId:"quantity",children:[Object(p.jsx)(m.a.Label,{children:"Qty"}),Object(p.jsx)(m.a.Control,{name:"quantity",type:"text",onChange:O})]}),Object(p.jsxs)(m.a.Group,{controlId:"currentPrice",children:[Object(p.jsx)(m.a.Label,{children:"Price"}),Object(p.jsx)(m.a.Control,{name:"price",type:"text",onChange:O,defaultValue:s.price})]})]})}),Object(p.jsxs)(se.a.Footer,{children:[Object(p.jsx)(Q.a,{variant:"primary",type:"submit",onClick:function(e){return u.apply(this,arguments)},children:"Add to Portfolio"}),Object(p.jsx)(Q.a,{className:"btn-white",onClick:h,children:"Close"})]})]})})};var ne=function(e){var t=e.stocks,c=e.title,s=void 0===c?"table":c,r=e.option,n=e.addToTable,l=e.removeFromTable,i=Object(a.useState)(!1),o=Object(b.a)(i,2),j=o[0],d=o[1],u=Object(a.useState)(!1),O=Object(b.a)(u,2),x=O[0],m=O[1],f=Object(a.useState)(!1),v=Object(b.a)(f,2),g=v[0],y=v[1],N=Object(a.useState)(!1),w=Object(b.a)(N,2),k=w[0],A=w[1],S=Object(a.useState)({}),L=Object(b.a)(S,2),C=L[0],P=L[1];function F(e){var t={id:e.target.getAttribute("id"),name:e.target.getAttribute("name"),symbol:e.target.getAttribute("symbol"),price:e.target.getAttribute("price")};P(t),d(!0)}return Object(a.useEffect)((function(){!function(){"watchlist"===r&&m(!0);"recommended"===r&&(m(!1),y(!0));"portfolio"===r&&A(!0)}()}),[C]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"d-flex flex-column dash-card-block",children:[Object(p.jsx)("div",{className:"list--title",children:s}),Object(p.jsx)("div",{className:"card forecast-data-table list--value mr-0",children:Object(p.jsxs)("table",{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Name"}),k&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("td",{children:"Avg Price Bought"}),Object(p.jsx)("td",{children:"Quantity"}),Object(p.jsx)("td",{children:"Market Value"}),Object(p.jsx)("td",{children:"Industry"}),Object(p.jsx)("td",{children:"Market Cap ($M)"})]}),Object(p.jsx)("td",{children:"Latest Price"}),Object(p.jsx)("td",{children:"% Change"}),Object(p.jsx)("td",{children:"Volume Transacted"}),Object(p.jsx)("td",{children:"Prediction"}),Object(p.jsx)("td",{children:"Actions"})]})}),Object(p.jsx)("tbody",{children:t&&t.map((function(e){return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{"data-label":"Name",children:Object(p.jsx)(h.b,{to:"/dashboard/details/".concat(e.symbol),children:e.symbol})}),k&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("td",{"data-label":"Avg Price Bought",children:["$",e.averagePriceBought.toFixed(2)]}),Object(p.jsx)("td",{"data-label":"Quantity on Hand",children:e.totalQuantity}),Object(p.jsxs)("td",{"data-label":"Market Value",children:["$",e.totalQuantity*e.currentPrice]}),Object(p.jsx)("td",{"data-label":"Industry",children:e.industry}),Object(p.jsx)("td",{"data-label":"Market Cap",children:(e.marketCap/1e6).toFixed(0)})]}),Object(p.jsxs)("td",{"data-label":"Latest Price",children:["$",e.currentPrice]}),Object(p.jsxs)("td",{"data-label":"% Change",className:"".concat("-"===e.price_change.toString().charAt(0)?"red":"green"),children:[e.percent_change,"%"]}),Object(p.jsx)("td",{"data-label":"Volume Transacted",children:e.volume}),Object(p.jsx)("td",{"data-label":"Prediction",className:"".concat("BUY"===e.yhat_30_advice&&"green"," \n                                                ").concat("HOLD"==e.yhat_30_advice&&"orange","  \n                                                ").concat("SELL"==e.yhat_30_advice&&"red"),children:e.yhat_30_advice}),Object(p.jsx)("td",{children:Object(p.jsxs)("span",{className:"material-icons",children:[x&&Object(p.jsx)("span",{className:"material-icons-outlined",onClick:function(){return l(e.id)},children:"close"}),g&&Object(p.jsx)("span",{className:"material-icons-outlined",onClick:function(){return n(e.id)},children:"playlist_add"}),Object(p.jsx)("span",{className:"material-icons-outlined",id:e.id,symbol:e.symbol,name:e.name,price:e.currentPrice,onClick:F,children:"add"})]})})]},e.id)}))})]})})]}),Object(p.jsx)(re,{stockToAdd:C,setShow:d,show:j})]})};var le=function(e){var t=e.watchlist,c=e.addToWatchlist,a=e.removeFromWatchList;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Overview"}),Object(p.jsx)(N.a,{className:"mb-4 no-gutters",children:Object(p.jsx)(w.a,{className:"col-12",children:Object(p.jsx)(ee,{})})}),Object(p.jsx)(N.a,{className:"no-gutters",children:Object(p.jsx)(w.a,{className:"col-12",children:Object(p.jsx)(ne,{stocks:t,addToWatchlist:c,removeFromWatchList:a})})})]})};var ie=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)([]),n=Object(b.a)(r,2);function i(){return(i=Object(d.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.get("/api/portfolio/");case 3:t=e.sent,o((c=t.data).portfolio_records,c.stock_dict),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function o(e,t){var c=function(e,t,c){if(!e)return{};var a,s={},r=Object(Z.a)(e);try{for(r.s();!(a=r.n()).done;){var n=a.value;s[n[t]]||(s[n[t]]=0),s[n[t]]+=n[c]}}catch(l){r.e(l)}finally{r.f()}return s}(e,"stock","quantity"),a=function(e,t,c,a){if(!e)return{};var s,r={},n={},l=Object(Z.a)(e);try{for(l.s();!(s=l.n()).done;){var i=s.value;n[i[t]]||(n[i[t]]=[0,0]),n[i[t]][0]+=i[a]*i[c],n[i[t]][1]+=i[c]}}catch(j){l.e(j)}finally{l.f()}for(var o in n)r[o]||(r[o]=n[o][0]/n[o][1]);return r}(e,"stock","quantity","price"),r=[];for(var n in c){var i={};0!==c[n]&&(i=Object(l.a)(Object(l.a)({},t[n]),{},{totalQuantity:c[n],averagePriceBought:a[n]}),r.push(i))}s(r)}return n[0],n[1],Object(a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Portfolio"}),Object(p.jsxs)(N.a,{className:"mb-4 no-gutters",children:[Object(p.jsx)(w.a,{className:"col-12 col-md-3",children:Object(p.jsx)(ee,{title:"Current Value"})}),Object(p.jsx)(w.a,{className:"col-12 col-md-3",children:Object(p.jsx)(ee,{title:"% Change"})})]}),Object(p.jsx)(N.a,{className:"mb-4 no-gutters",children:Object(p.jsx)(w.a,{className:"col-12",children:Object(p.jsx)(ee,{title:"Portfolio Growth over Time"})})}),Object(p.jsx)(N.a,{className:"mb-4 no-gutters",children:Object(p.jsx)(w.a,{className:"col-12",children:Object(p.jsx)(ne,{title:"Portfolio",stocks:c,option:"portfolio"})})})]})};var oe=function(e){var t=e.allStocks,c=e.addToWatchlist,s=e.watchlist,r=e.removeFromWatchList,n=Object(a.useState)([]),l=Object(b.a)(n,2),i=l[0],o=l[1],j=[];Object(a.useEffect)((function(){t&&(j=Object(y.a)(t).sort((function(e,t){return t.yhat_30_ratio-e.yhat_30_ratio})).slice(0,5),console.log(j),o(j))}),[t]);var d=Object(a.useState)(""),u=Object(b.a)(d,2),O=u[0],x=u[1],f=Object(a.useState)([]),v=Object(b.a)(f,2),g=v[0],k=v[1];return Object(a.useEffect)((function(){O&&function(e){var c=t.filter((function(t){return t.symbol.toLowerCase().includes(e.toLowerCase())}));k(c)}(O)}),[O]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Watch List"}),Object(p.jsx)(N.a,{className:"mb-4 no-gutters",children:Object(p.jsx)(w.a,{className:"col-12",children:Object(p.jsx)(m.a,{inline:!0,children:Object(p.jsxs)("div",{className:"search-bar search-bar-dash material-icons",children:[Object(p.jsx)("input",{type:"text",placeholder:"Search Stocks",onChange:function(e){x(e.target.value)}}),O&&Object(p.jsx)("div",{className:"auto-suggest",children:Object(p.jsx)("ul",{children:g.length>0?g.map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(h.b,{to:"/dashboard/details/".concat(e.symbol),children:e.symbol})},e.id)})):Object(p.jsx)("li",{children:"No Stocks Found"})})})]})})})}),Object(p.jsxs)(N.a,{className:"no-gutters",children:[Object(p.jsx)(w.a,{className:"col-12 col-xl-6",children:Object(p.jsx)(ne,{title:"Watchlist",option:"watchlist",stocks:s,removeFromTable:r})}),Object(p.jsx)(w.a,{className:"col-12 col-xl-6",children:Object(p.jsx)(ne,{title:"Recommended Stocks",option:"recommended",stocks:i,addToTable:c})})]})]})};function je(e){return de.apply(this,arguments)}function de(){return(de=Object(d.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.get("/accounts/test_login/");case 3:if(200!==(c=e.sent).status&&201!==c.status){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var be=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("h1",{children:"Settings"}),Object(p.jsx)(N.a,{className:"mb-4 no-gutters dash-card-block",children:Object(p.jsx)(w.a,{className:"col-12 card",children:Object(p.jsxs)(m.a,{children:[Object(p.jsxs)(m.a.Group,{controlId:"settingsUsername",children:[Object(p.jsx)(m.a.Label,{children:"Username"}),Object(p.jsx)(m.a.Control,{type:"text"})]}),Object(p.jsxs)(m.a.Group,{controlId:"settingsUsername",children:[Object(p.jsx)(m.a.Label,{children:"Email"}),Object(p.jsx)(m.a.Control,{type:"email",readOnly:!0})]}),Object(p.jsxs)(m.a.Group,{controlId:"settingsPassword",children:[Object(p.jsx)(m.a.Label,{children:"Password"}),Object(p.jsx)(m.a.Control,{type:"password"})]}),Object(p.jsxs)(m.a.Group,{controlId:"settingsPassword",children:[Object(p.jsx)(m.a.Label,{children:"Confirm Password"}),Object(p.jsx)(m.a.Control,{type:"password"})]}),Object(p.jsx)(Q.a,{className:"btn btn-primary",type:"submit",children:"Update Details"})]})})})]})};var he=function(e){var t=e.setAuth,c=e.auth,s=Object(a.useState)([]),r=Object(b.a)(s,2),n=r[0],l=r[1];Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.get("/api/show_all/");case 2:t=e.sent,c=t.data,l(c.stock_record_all);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var i=Object(a.useState)([]),o=Object(b.a)(i,2),h=o[0],O=o[1];function x(){return m.apply(this,arguments)}function m(){return(m=Object(d.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.get("/api/watchlist/");case 2:t=e.sent,c=t.data,O(c.watchlist_stocks);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=Object(d.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.post("/api/watchlist/",{id:t});case 2:c=e.sent,c.data,x();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return N.apply(this,arguments)}function N(){return(N=Object(d.a)(j.a.mark((function e(t){var c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.post("/api/watchlist_delete/",{id:t});case 2:c=e.sent,c.data,x();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){x()}),[c]),Object(p.jsxs)("div",{className:"dashboard-container",children:[Object(p.jsx)($,{setAuth:t}),Object(p.jsxs)(g.a,{fluid:!0,className:"px-0 dashboard-content",children:[Object(p.jsx)(u.b,{path:"/dashboard",exact:!0,children:Object(p.jsx)(le,{watchlist:h,addToWatchlist:f,removeFromWatchList:y})}),Object(p.jsx)(u.b,{path:"/dashboard/portfolio",exact:!0,children:Object(p.jsx)(ie,{})}),Object(p.jsx)(u.b,{path:"/dashboard/watchlist",children:Object(p.jsx)(oe,{watchlist:h,addToWatchlist:f,removeFromWatchList:y,allStocks:n})}),Object(p.jsx)(u.b,{path:"/dashboard/details/:symbol",children:Object(p.jsx)(R,{auth:c,watchlist:h,addToWatchlist:f,removeFromWatchList:y})}),Object(p.jsx)(u.b,{path:"/dashboard/settings",children:Object(p.jsx)(be,{})})]})]})},ue=["auth","loading","children","path","location"];function Oe(e){var t=e.auth,c=e.loading,a=e.children,s=e.path,r=e.location,n=Object(i.a)(e,ue);return c?Object(p.jsx)("div",{children:"Loading"}):Object(p.jsx)(p.Fragment,{children:t?Object(p.jsx)(u.b,Object(l.a)(Object(l.a)({path:s,auth:t},n),{},{children:a})):Object(p.jsx)(u.a,{to:{pathname:"/login",state:{from:r}}})})}var xe=function(){var e=Object(a.useState)(!1),t=Object(b.a)(e,2),c=t[0],s=t[1],r=Object(a.useState)(!0),n=Object(b.a)(r,2),l=n[0],i=n[1];return Object(a.useEffect)((function(){(function(){var e=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:t=e.sent,s(t),i(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(p.jsx)(h.a,{children:Object(p.jsxs)(u.d,{children:[Object(p.jsx)(Oe,{path:"/dashboard",loading:l,auth:c,children:Object(p.jsx)(he,{setAuth:s,auth:c})}),Object(p.jsx)(u.b,{path:"/",children:Object(p.jsx)(q,{setAuth:s})})]})})},me=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,405)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,n=t.getTTFB;c(e),a(e),s(e),r(e),n(e)}))};n.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(xe,{})}),document.getElementById("root")),me()}},[[387,1,2]]]);
//# sourceMappingURL=main.f6a8ae2e.chunk.js.map